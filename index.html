<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ù†</title>
    <style>
        body { font-family: Tahoma; margin: 20px; }
        button { 
            background: green; color: white; 
            padding: 15px; margin: 10px; border: none; 
            border-radius: 5px; cursor: pointer; 
        }
    </style>
</head>
<body>
    <h1>ğŸ›ï¸ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ³Øª</h1>
    <button onclick="sell()">ğŸ¯ Ø®Ø±ÛŒØ¯ Ù…Ø­ØµÙˆÙ„ (29,000 ØªÙˆÙ…Ø§Ù†)</button>
    <p id="status">ÙˆØ¶Ø¹ÛŒØª: Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</p>
    
    <script>
        async function sell() {
            try {
                const response = await fetch('http://localhost:3000/api/sell', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({})
                });
                const result = await response.json();
                alert('âœ… Ø®Ø±ÛŒØ¯ Ù…ÙˆÙÙ‚! Ø¯Ø±Ø¢Ù…Ø¯: ' + result.total.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†');
                checkStatus();
            } catch (error) {
                alert('âŒ Ø®Ø·Ø§! Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ revenue.js Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡ Ø§Ø³Øª');
            }
        }
        
        async function checkStatus() {
            try {
                const response = await fetch('http://localhost:3000/api/stats');
                const data = await response.json();
                document.getElementById('status').innerHTML = 
                    'ğŸ’° Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: ' + data.total.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';
            } catch (error) {
                document.getElementById('status').innerHTML = 
                    'âŒ Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ ÙˆØµÙ„ Ù†ÛŒØ³Øª';
            }
        }
        checkStatus();
    </script>
</body>
</html>
