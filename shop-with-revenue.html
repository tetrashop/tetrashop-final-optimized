<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Tetrashop - Ø³ÛŒØ³ØªÙ… ÙØ±ÙˆØ´ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡</title>
    <style>
        body {
            font-family: Tahoma, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .revenue-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00d4aa, #009174);
            color: white;
            padding: 20px;
            border-radius: 15px;
            z-index: 10000;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            min-width: 300px;
        }
        .product-btn {
            background: white;
            color: #333;
            border: none;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        .product-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .stats {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- Ù¾Ù†Ù„ ÙØ±ÙˆØ´ -->
    <div class="revenue-panel">
        <h3 style="margin: 0 0 15px 0; text-align: center;">ğŸ’° ÙØ±ÙˆØ´ ÙÙˆØ±ÛŒ</h3>
        
        <button class="product-btn" onclick="sellProduct(1)">
            ğŸ’ Ø¹Ø¶ÙˆÛŒØª Ø·Ù„Ø§ÛŒÛŒ - 29,000 ØªÙˆÙ…Ø§Ù†
        </button>
        <button class="product-btn" onclick="sellProduct(2)">
            ğŸ›ï¸ Ù‚Ø§Ù„Ø¨ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ - 49,000 ØªÙˆÙ…Ø§Ù†
        </button>
        <button class="product-btn" onclick="sellProduct(3)">
            ğŸ“š Ø¯ÙˆØ±Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ - 79,000 ØªÙˆÙ…Ø§Ù†
        </button>
        
        <div class="stats">
            <div>ğŸ“Š ÙØ±ÙˆØ´ Ø§Ù…Ø±ÙˆØ²: <span id="salesCount">0</span> Ù…ÙˆØ±Ø¯</div>
            <div>ğŸ’° Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: <span id="totalRevenue">0</span> ØªÙˆÙ…Ø§Ù†</div>
        </div>
    </div>

    <div class="container">
        <h1>ğŸš€ Tetrashop - Ø³ÛŒØ³ØªÙ… ÙØ±ÙˆØ´ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡</h1>
        <h3>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø´Ù…Ø§ Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ ÙØ¹Ø§Ù„</h3>
        
        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h2>ğŸ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø§</h2>
            <p>Ø³ÛŒØ³ØªÙ… ÙØ±ÙˆØ´ Ø¯Ø± Ø³Ù…Øª Ø±Ø§Ø³Øª ØµÙØ­Ù‡ ÙØ¹Ø§Ù„ Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† ÙØ±ÙˆØ´ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯!</p>
        </div>

        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
            <h2>ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</h2>
            <p>Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¨Ø§ Ù…Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø´ÛŒØ¯</p>
        </div>
    </div>

    <script>
        // ØªØ§Ø¨Ø¹ ÙØ±ÙˆØ´ Ù…Ø­ØµÙˆÙ„
        async function sellProduct(productId) {
            const products = {
                1: { name: 'Ø¹Ø¶ÙˆÛŒØª Ø·Ù„Ø§ÛŒÛŒ', price: 29000 },
                2: { name: 'Ù‚Ø§Ù„Ø¨ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ', price: 49000 },
                3: { name: 'Ø¯ÙˆØ±Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ', price: 79000 }
            };
            
            const product = products[productId];
            
            if (confirm(`Ø¢ÛŒØ§ Ù…Ø§ÛŒÙ„ Ø¨Ù‡ Ø®Ø±ÛŒØ¯ "${product.name}" Ø¨Ù‡ Ù…Ø¨Ù„Øº ${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù† Ù‡Ø³ØªÛŒØ¯ØŸ`)) {
                try {
                    const response = await fetch('http://localhost:3000/api/sell', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ productId: productId })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        alert(`âœ… Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!\n\nğŸ“¦ Ù…Ø­ØµÙˆÙ„: ${product.name}\nğŸ’µ Ù…Ø¨Ù„Øº: ${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†\nğŸ’° Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: ${result.total.toLocaleString()} ØªÙˆÙ…Ø§Ù†`);
                        updateStats();
                    }
                } catch (error) {
                    alert('âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª. Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ø³Ø±ÙˆØ± Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§Ø³Øª.');
                }
            }
        }
        
        // Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø±
        async function updateStats() {
            try {
                const response = await fetch('http://localhost:3000/api/stats');
                const data = await response.json();
                
                document.getElementById('salesCount').textContent = data.totalSales;
                document.getElementById('totalRevenue').textContent = data.totalRevenue.toLocaleString();
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø±');
            }
        }
        
        // Ø¢Ù¾Ø¯ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ Ø¢Ù…Ø§Ø±
        updateStats();
        
        // Ø¢Ù¾Ø¯ÛŒØª Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡
        setInterval(updateStats, 10000);
        
        console.log('ğŸš€ Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ ÙØ¹Ø§Ù„ Ø´Ø¯!');
    </script>
</body>
</html>
