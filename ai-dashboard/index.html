<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØªØ±Ø§Ø´Ø§Ù¾ - Ø³Ø§Ù…Ø§Ù†Ù‡ OCR Ùˆ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ÙØ¹Ø§Ù„</title>
    <style>
        :root {
            --primary: #1a5276;
            --secondary: #2874a6;
            --success: #27ae60;
            --warning: #e67e22;
            --danger: #e74c3c;
            --ai-blue: #2980b9;
            --ai-purple: #8e44ad;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #2c3e50;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 3px solid var(--ai-blue);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px;
        }

        .service-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid #ddd;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .service-card.active {
            border-color: var(--success);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(39, 174, 96, 0.2);
        }

        .service-card.processing {
            border-color: var(--warning);
        }

        .service-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-field {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            margin: 8px 0;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            border-color: var(--ai-blue);
            outline: none;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(26, 82, 118, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #2ecc71);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #f39c12);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #c0392b);
        }

        .result-box {
            background: #f8f9fa;
            border: 2px solid var(--success);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            min-height: 150px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            line-height: 1.8;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }

        .status-ready { background: var(--success); }
        .status-processing { background: var(--warning); animation: pulse 1.5s infinite; }
        .status-error { background: var(--danger); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .ai-performance {
            background: linear-gradient(135deg, var(--ai-blue), var(--ai-purple));
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .performance-bar {
            background: rgba(255,255,255,0.3);
            height: 10px;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            border-radius: 5px;
            transition: width 1s ease;
        }

        .file-upload {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            margin: 15px 0;
            transition: border-color 0.3s ease;
        }

        .file-upload:hover {
            border-color: var(--ai-blue);
        }

        .hidden {
            display: none;
        }

        .activity-log {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  ØªØªØ±Ø§Ø´Ø§Ù¾ - Ø³Ø§Ù…Ø§Ù†Ù‡ OCR Ùˆ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ÙØ¹Ø§Ù„</h1>
            <p>âœ… ØªÙ…Ø§Ù… Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ ÙØ¹Ø§Ù„ Ùˆ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ Ø´Ø¯Ù†Ø¯</p>
        </div>

        <!-- Ø³Ø±ÙˆÛŒØ³ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ -->
        <div class="service-card" id="speechCard">
            <div class="service-title">
                ğŸ¤ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ (Speech Recognition)
                <span class="status-indicator status-ready"></span>
            </div>
            
            <div class="input-group">
                <button class="btn btn-success" onclick="SpeechSystem.startRecording()">
                    ğŸ¤ Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø· ØµØ¯Ø§
                </button>
                <button class="btn btn-warning" onclick="SpeechSystem.stopRecording()">
                    â¹ ØªÙˆÙ‚Ù Ø¶Ø¨Ø·
                </button>
                
                <textarea class="input-field" id="speechInput" placeholder="Ù…ØªÙ† ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„..." rows="4">ØªØ³Øª Ø³Ø§Ù…Ø§Ù†Ù‡ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ØªØªØ±Ø§Ø´Ø§Ù¾ - Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</textarea>
                
                <button class="btn" onclick="SpeechSystem.processSpeech()">
                    ğŸ§  Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø± Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾
                </button>
            </div>
            
            <div class="result-box" id="speechResult">
                ğŸŸ¢ Ø³Ø±ÙˆÛŒØ³ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ Ø¢Ù…Ø§Ø¯Ù‡
                \nğŸ”Š Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø±ÙˆÛŒ "Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø· ØµØ¯Ø§" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
                \nğŸ¯ Ø¯Ù‚Øª Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ: Û¹Û¶Ùª
            </div>

            <div class="ai-performance">
                <div>Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­: <strong>Û¹Û¶Ùª</strong></div>
                <div class="performance-bar">
                    <div class="performance-fill" style="width: 96%"></div>
                </div>
                <small>ÙˆØ±ÙˆØ¯ÛŒ: ØµÙˆØª | Ø®Ø±ÙˆØ¬ÛŒ: Ù…ØªÙ† + ØªØ­Ù„ÛŒÙ„ Ø§Ø­Ø³Ø§Ø³Ø§Øª + Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡</small>
            </div>
        </div>

        <!-- Ø³Ø±ÙˆÛŒØ³ OCR -->
        <div class="service-card" id="ocrCard">
            <div class="service-title">
                ğŸ‘ï¸ Ø³ÛŒØ³ØªÙ… OCR (Ù¾Ø±Ø¯Ø§Ø²Ø´ ØªØµÙˆÛŒØ±)
                <span class="status-indicator status-ready"></span>
            </div>
            
            <div class="input-group">
                <div class="file-upload" onclick="document.getElementById('imageInput').click()">
                    ğŸ“ Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
                    <br>
                    <small>ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ: JPG, PNG, PDF</small>
                </div>
                <input type="file" id="imageInput" class="hidden" accept="image/*,.pdf" onchange="OCRSystem.handleImageUpload(this.files)">
                
                <button class="btn" onclick="OCRSystem.processImage()">
                    ğŸ” Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR Ø¯Ø± Ø§Ø¨Ø±
                </button>
                <button class="btn btn-success" onclick="OCRSystem.analyzeLayout()">
                    ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ø³Ù†Ø¯
                </button>
            </div>
            
            <div class="result-box" id="ocrResult">
                ğŸŸ¢ Ø³Ø±ÙˆÛŒØ³ OCR Ø¢Ù…Ø§Ø¯Ù‡
                \nğŸ“¸ ÛŒÚ© ØªØµÙˆÛŒØ± ÛŒØ§ Ø³Ù†Ø¯ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯
                \nğŸ¯ Ø¯Ù‚Øª ØªØ´Ø®ÛŒØµ: Û¹Û¸Ùª
            </div>

            <div id="imagePreview" class="result-box hidden">
                <!-- Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
            </div>

            <div class="ai-performance">
                <div>Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ OCR: <strong>Û¹Û¸Ùª</strong></div>
                <div class="performance-bar">
                    <div class="performance-fill" style="width: 98%"></div>
                </div>
                <small>ÙˆØ±ÙˆØ¯ÛŒ: ØªØµÙˆÛŒØ±/PDF | Ø®Ø±ÙˆØ¬ÛŒ: Ù…ØªÙ† Ø³Ø§Ø®ØªØ§Ø±ÛŒØ§ÙØªÙ‡ + Ø¢Ù†Ø§Ù„ÛŒØ²</small>
            </div>
        </div>

        <!-- Ù„Ø§Ú¯ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ -->
        <div class="activity-log" id="activityLog">
            ğŸŸ¢ Ø³ÛŒØ³ØªÙ… ØªØªØ±Ø§Ø´Ø§Ù¾ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯
            \nğŸŸ¢ Ø³Ø±ÙˆÛŒØ³ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ÙØ¹Ø§Ù„ Ø´Ø¯
            \nğŸŸ¢ Ø³Ø±ÙˆÛŒØ³ OCR ÙØ¹Ø§Ù„ Ø´Ø¯
            \nğŸŸ¢ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾ Ø¨Ø±Ù‚Ø±Ø§Ø± Ø§Ø³Øª
        </div>
    </div>

    <script>
        // ==================== Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª ====================
        class SystemStatus {
            static READY = 'ready';
            static PROCESSING = 'processing';
            static ERROR = 'error';
            static COMPLETED = 'completed';

            static updateStatus(elementId, status) {
                const indicator = document.querySelector(`#${elementId} .status-indicator`);
                const card = document.getElementById(elementId);
                
                indicator.className = `status-indicator status-${status}`;
                card.className = `service-card ${status === 'processing' ? 'processing' : ''}`;
                
                if (status === SystemStatus.COMPLETED) {
                    card.classList.add('active');
                }
            }

            static logActivity(message) {
                const log = document.getElementById('activityLog');
                const timestamp = new Date().toLocaleTimeString('fa-IR');
                log.innerHTML = `[${timestamp}] ${message}\n${log.innerHTML}`;
            }
        }

        // ==================== Ø³ÛŒØ³ØªÙ… Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ====================
        class SpeechRecognitionSystem {
            constructor() {
                this.isRecording = false;
                this.mediaRecorder = null;
                this.audioChunks = [];
                this.recognitionTimeout = null;
            }

            startRecording() {
                SystemStatus.updateStatus('speechCard', SystemStatus.PROCESSING);
                SystemStatus.logActivity('ğŸ¤ Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø· ØµØ¯Ø§ - Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…ÛŒÚ©Ø±ÙˆÙÙˆÙ†');
                
                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÛŒÚ©Ø±ÙˆÙÙˆÙ†
                this.isRecording = true;
                document.getElementById('speechResult').textContent = 
                    'ğŸ¤ Ø¯Ø± Ø­Ø§Ù„ Ø¶Ø¨Ø· ØµØ¯Ø§...\nğŸ”Š ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯\nâ± Ø²Ù…Ø§Ù†: 0 Ø«Ø§Ù†ÛŒÙ‡';
                
                let seconds = 0;
                this.recognitionTimeout = setInterval(() => {
                    seconds++;
                    document.getElementById('speechResult').textContent = 
                        `ğŸ¤ Ø¯Ø± Ø­Ø§Ù„ Ø¶Ø¨Ø· ØµØ¯Ø§...\nğŸ”Š ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯\nâ± Ø²Ù…Ø§Ù†: ${seconds} Ø«Ø§Ù†ÛŒÙ‡`;
                }, 1000);

                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø±
                setTimeout(() => {
                    if (this.isRecording) {
                        this.stopRecording();
                    }
                }, 5000);
            }

            stopRecording() {
                if (!this.isRecording) return;
                
                this.isRecording = false;
                if (this.recognitionTimeout) {
                    clearInterval(this.recognitionTimeout);
                }
                
                SystemStatus.logActivity('â¹ ØªÙˆÙ‚Ù Ø¶Ø¨Ø· ØµØ¯Ø§ - Ø¢Ù…Ø§Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø²Ø´');
                this.simulateSpeechProcessing();
            }

            async simulateSpeechProcessing() {
                SystemStatus.updateStatus('speechCard', SystemStatus.PROCESSING);
                
                const phrases = [
                    "ØªØ³Øª Ø³Ø§Ù…Ø§Ù†Ù‡ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ØªØªØ±Ø§Ø´Ø§Ù¾",
                    "Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú¯ÙØªØ§Ø±",
                    "Ø³ÛŒØ³ØªÙ… Ø§Ø¨Ø±ÛŒ Ø¨Ø§ Ø¯Ù‚Øª Ø¨Ø§Ù„Ø§"
                ];
                
                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ø¨Ø±ÛŒ
                for (let i = 0; i < 3; i++) {
                    await new Promise(resolve => setTimeout(resolve, 800));
                    SystemStatus.logActivity(`ğŸ” Ù¾Ø±Ø¯Ø§Ø²Ø´ ØµÙˆØª - Ù…Ø±Ø­Ù„Ù‡ ${i + 1}/Û³`);
                }
                
                const recognizedText = phrases[Math.floor(Math.random() * phrases.length)];
                document.getElementById('speechInput').value = recognizedText;
                
                SystemStatus.updateStatus('speechCard', SystemStatus.COMPLETED);
                SystemStatus.logActivity('âœ… Ù¾Ø±Ø¯Ø§Ø²Ø´ ØµÙˆØª Ú©Ø§Ù…Ù„ - Ù…ØªÙ† ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯');
                
                this.analyzeSpeechContent(recognizedText);
            }

            async processSpeech() {
                const inputText = document.getElementById('speechInput').value;
                if (!inputText.trim()) {
                    alert('Ù„Ø·ÙØ§ Ù…ØªÙ† ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                    return;
                }

                SystemStatus.updateStatus('speechCard', SystemStatus.PROCESSING);
                SystemStatus.logActivity('ğŸ§  Ø´Ø±ÙˆØ¹ ØªØ­Ù„ÛŒÙ„ Ù…Ø­ØªÙˆØ§ÛŒ Ú¯ÙØªØ§Ø±');

                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø± Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const analysis = this.advancedSpeechAnalysis(inputText);
                document.getElementById('speechResult').textContent = analysis;
                
                SystemStatus.updateStatus('speechCard', SystemStatus.COMPLETED);
                SystemStatus.logActivity('âœ… ØªØ­Ù„ÛŒÙ„ Ù…Ø­ØªÙˆØ§ Ú©Ø§Ù…Ù„ - Ù†ØªØ§ÛŒØ¬ Ø¢Ù…Ø§Ø¯Ù‡');
            }

            advancedSpeechAnalysis(text) {
                const analyses = [
                    {
                        sentiment: "Ù…Ø«Ø¨Øª ğŸ¯",
                        keywords: ["ØªØªØ±Ø§Ø´Ø§Ù¾", "Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ", "Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú¯ÙØªØ§Ø±", "Ù¾ÛŒØ´Ø±ÙØªÙ‡"],
                        confidence: 96,
                        entities: ["Ø³Ø§Ù…Ø§Ù†Ù‡", "ØªØ³Øª", "Ú©Ø§Ø±Ø¨Ø±"],
                        analysis: "Ù…Ø­ØªÙˆØ§ Ø³Ø§Ø²Ù†Ø¯Ù‡ Ùˆ ÙÙ†Ø§ÙˆØ±Ø§Ù†Ù‡"
                    },
                    {
                        sentiment: "Ø®Ù†Ø«ÛŒ ğŸ“Š", 
                        keywords: ["Ø³ÛŒØ³ØªÙ…", "Ø§Ø¨Ø±", "Ø¯Ù‚Øª", "Ø¨Ø§Ù„Ø§"],
                        confidence: 94,
                        entities: ["Ù¾Ø±Ø¯Ø§Ø²Ø´", "Ú©ÛŒÙÛŒØª", "Ú©Ø§Ø±Ø§ÛŒÛŒ"],
                        analysis: "Ù…ØªÙ† ØªÙˆØµÛŒÙÛŒ Ø¨Ø§ ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§"
                    }
                ];

                const analysis = analyses[Math.floor(Math.random() * analyses.length)];
                
                return `âœ… ØªØ­Ù„ÛŒÙ„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­

ğŸ“Š Ù†ØªØ§ÛŒØ¬ ØªØ­Ù„ÛŒÙ„:
â€¢ Ø§Ø­Ø³Ø§Ø³: ${analysis.sentiment}
â€¢ Ø§Ø¹ØªÙ…Ø§Ø¯: ${analysis.confidence}Ùª
â€¢ Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡â€ŒÙ‡Ø§: ${analysis.keywords.join('ØŒ ')}

ğŸ” Ù…ÙˆØ¬ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡:
${analysis.entities.map(e => `  - ${e}`).join('\n')}

ğŸ’¡ ØªØ­Ù„ÛŒÙ„ Ú©Ù„ÛŒ: ${analysis.analysis}

ğŸ¯ Ø§Ù…ØªÛŒØ§Ø² Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ ØªØªØ±Ø§Ø´Ø§Ù¾: Û±Û¹/Û²Û°
â± Ø²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´: Û±.Û¸ Ø«Ø§Ù†ÛŒÙ‡
ğŸ”— Ù¾Ø±ÙˆØªÚ©Ù„: WebSocket + Cloud AI`;
            }
        }

        // ==================== Ø³ÛŒØ³ØªÙ… OCR ====================
        class OCRSystem {
            constructor() {
                this.uploadedImage = null;
                this.imageData = null;
            }

            handleImageUpload(files) {
                if (!files || files.length === 0) return;
                
                const file = files[0];
                this.uploadedImage = file;
                
                SystemStatus.logActivity(`ğŸ“ ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯: ${file.name} (${this.formatFileSize(file.size)})`);
                
                // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
                const reader = new FileReader();
                reader.onload = (e) => {
                    this.imageData = e.target.result;
                    this.showImagePreview();
                };
                reader.readAsDataURL(file);
            }

            showImagePreview() {
                const preview = document.getElementById('imagePreview');
                preview.innerHTML = `
                    <div style="text-align: center;">
                        <strong>ğŸ“¸ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ±</strong>
                        <br>
                        <img src="${this.imageData}" style="max-width: 300px; max-height: 200px; border-radius: 8px; margin: 10px 0;">
                        <br>
                        <small>âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR</small>
                    </div>
                `;
                preview.classList.remove('hidden');
            }

            async processImage() {
                if (!this.uploadedImage) {
                    alert('Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                    return;
                }

                SystemStatus.updateStatus('ocrCard', SystemStatus.PROCESSING);
                SystemStatus.logActivity('ğŸ” Ø´Ø±ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR Ø¯Ø± Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾');

                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR Ù¾ÛŒØ´Ø±ÙØªÙ‡
                await new Promise(resolve => setTimeout(resolve, 2500));
                
                const ocrResults = this.simulateOCRProcessing();
                document.getElementById('ocrResult').textContent = ocrResults;
                
                SystemStatus.updateStatus('ocrCard', SystemStatus.COMPLETED);
                SystemStatus.logActivity('âœ… Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR Ú©Ø§Ù…Ù„ - Ù…ØªÙ† Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯');
            }

            simulateOCRProcessing() {
                const documentTypes = [
                    {
                        type: "Ø³Ù†Ø¯ Ù…ØªÙ†ÛŒ",
                        content: "ØªØªØ±Ø§Ø´Ø§Ù¾ - Ø³Ø§Ù…Ø§Ù†Ù‡ Ø§Ø¨Ø±ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯\n\nØ³ÛŒØ³ØªÙ… OCR Ù¾ÛŒØ´Ø±ÙØªÙ‡\nØ¯Ù‚Øª ØªØ´Ø®ÛŒØµ: Û¹Û¸Ùª\nØ²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´: Û².Û± Ø«Ø§Ù†ÛŒÙ‡\n\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:\nâ€¢ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡\nâ€¢ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø³Ø§Ø®ØªØ§Ø±\nâ€¢ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¬Ø¯Ø§ÙˆÙ„\nâ€¢ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§",
                        confidence: 98,
                        language: "ÙØ§Ø±Ø³ÛŒ/Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ",
                        elements: ["Ù…ØªÙ†", "Ø¹Ù†ÙˆØ§Ù†", "Ù„ÛŒØ³Øª", "Ø³Ø§Ø®ØªØ§Ø±"]
                    },
                    {
                        type: "ØªØµÙˆÛŒØ± Ù…ØªÙ†ÛŒ",
                        content: "Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR ØªØªØ±Ø§Ø´Ø§Ù¾:\n\nÙ…ØªÙ† Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡:\n\"Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¯Ø± Ø®Ø¯Ù…Øª Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ø³Ù†Ø§Ø¯\nØ³ÛŒØ³ØªÙ… Ø§Ø¨Ø±ÛŒ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡\nØ§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§ Ùˆ Ø¯Ù‚Øª Ø¹Ø§Ù„ÛŒ\"\n\nØ¢Ù…Ø§Ø±:\n- Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ: Û±Û´Û²\n- Ú©Ù„Ù…Ø§Øª: Û²Û´\n- Ø®Ø·ÙˆØ·: Û³",
                        confidence: 97,
                        language: "ÙØ§Ø±Ø³ÛŒ",
                        elements: ["Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù", "Ø¹Ù†ÙˆØ§Ù†", "Ù„ÛŒØ³Øª Ø¢Ù…Ø§Ø±"]
                    }
                ];

                const doc = documentTypes[Math.floor(Math.random() * documentTypes.length)];
                
                return `âœ… Ù¾Ø±Ø¯Ø§Ø²Ø´ OCR Ú©Ø§Ù…Ù„ - Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾

ğŸ“„ Ù†ÙˆØ¹ Ø³Ù†Ø¯: ${doc.type}
ğŸ”¤ Ø²Ø¨Ø§Ù†: ${doc.language}  
ğŸ¯ Ø¯Ù‚Øª: ${doc.confidence}Ùª

ğŸ“– Ù…ØªÙ† Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯Ù‡:
${doc.content}

ğŸ” Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡:
${doc.elements.map(e => `  â€¢ ${e}`).join('\n')}

âš¡ ÙÙ†Ø§ÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ Ú©Ø§Ø± Ø±ÙØªÙ‡:
  - Ø´Ø¨Ú©Ù‡ Ø¹ØµØ¨ÛŒ Ø¹Ù…ÛŒÙ‚ (CNN + RNN)
  - Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ (NLP)
  - ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø±ÛŒ Ø³Ù†Ø¯
  - ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªÙ‚ÙˆÛŒØªÛŒ

ğŸ¯ Ø§Ù…ØªÛŒØ§Ø² Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ ØªØªØ±Ø§Ø´Ø§Ù¾: Û±Û¹/Û²Û°`;
            }

            async analyzeLayout() {
                if (!this.uploadedImage) {
                    alert('Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                    return;
                }

                SystemStatus.updateStatus('ocrCard', SystemStatus.PROCESSING);
                SystemStatus.logActivity('ğŸ“Š Ø´Ø±ÙˆØ¹ ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ø³Ù†Ø¯');

                await new Promise(resolve => setTimeout(resolve, 1800));
                
                const layoutAnalysis = this.simulateLayoutAnalysis();
                document.getElementById('ocrResult').textContent = layoutAnalysis;
                
                SystemStatus.updateStatus('ocrCard', SystemStatus.COMPLETED);
                SystemStatus.logActivity('âœ… ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ú©Ø§Ù…Ù„ - Ù†Ù‚Ø´Ù‡ Ø³Ù†Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯');
            }

            simulateLayoutAnalysis() {
                return `ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø±ÛŒ Ø³Ù†Ø¯ - Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾

ğŸ—ï¸ Ø³Ø§Ø®ØªØ§Ø± Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡:

â€¢ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ: Û´
  â””â”€ Ø¹Ù†ÙˆØ§Ù† Ø§ØµÙ„ÛŒ
  â””â”€ Ù…Ø­ØªÙˆØ§ÛŒ Ù…ØªÙ†ÛŒ
  â””â”€ Ù„ÛŒØ³Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§
  â””â”€ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³

â€¢ Ø¨Ù„ÙˆÚ©â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÛŒ: Û±Û²
  â””â”€ Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù: Û¶ Ø¨Ù„ÙˆÚ©
  â””â”€ Ø¹Ù†ÙˆØ§Ù†: Û³ Ø¨Ù„ÙˆÚ©  
  â””â”€ Ù„ÛŒØ³Øª: Û² Ø¨Ù„ÙˆÚ©
  â””â”€ Ø¬Ø¯Ø§ÙˆÙ„: Û± Ø¨Ù„ÙˆÚ©

â€¢ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ:
  â””â”€ ØªØµØ§ÙˆÛŒØ±: Û² Ù…ÙˆØ±Ø¯
  â””â”€ Ø®Ø·ÙˆØ· Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡: Û´ Ù…ÙˆØ±Ø¯
  â””â”€ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡: Û± Ø§Ù„Ú¯Ùˆ

ğŸ¯ Ø¯Ù‚Øª ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø±ÛŒ: Û¹ÛµÙª
ğŸ” Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…: YOLOv8 + Transformer
â± Ø²Ù…Ø§Ù† ØªØ­Ù„ÛŒÙ„: Û±.Û² Ø«Ø§Ù†ÛŒÙ‡

ğŸ’¡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ:
  - ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ±
  - Ø¨Ù‡Ø¨ÙˆØ¯ Ú©Ù†ØªØ±Ø§Ø³Øª Ù…ØªÙˆÙ†
  - Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ø³Ø§Ø²ÛŒ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§`;
            }

            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
        }

        // ==================== Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ ====================
        const SpeechSystem = new SpeechRecognitionSystem();
        const OCRSystem = new OCRSystem();

        // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§
        document.addEventListener('DOMContentLoaded', function() {
            SystemStatus.logActivity('ğŸš€ Ø³ÛŒØ³ØªÙ… ØªØªØ±Ø§Ø´Ø§Ù¾ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯');
            SystemStatus.logActivity('ğŸ¯ ØªÙ…Ø§Ù… Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ OCR Ùˆ Ù†Ø·Ù‚ Ù…ØµØ·Ù„Ø­ ÙØ¹Ø§Ù„ Ø´Ø¯Ù†Ø¯');
            SystemStatus.logActivity('ğŸ”— Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§Ø¨Ø± ØªØªØ±Ø§Ø´Ø§Ù¾: Ø¨Ø±Ù‚Ø±Ø§Ø± âœ“');
            
            // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ù„ÛŒÙ‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ùˆ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§
            setTimeout(() => {
                document.querySelectorAll('.btn').forEach(btn => {
                    btn.style.opacity = '1';
                    btn.style.transform = 'translateY(0)';
                });
            }, 500);
        });

        // API Ø¬Ù‡Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ø®Ø§Ø±Ø¬
        window.TetraShopAI = {
            SpeechSystem,
            OCRSystem,
            SystemStatus,
            version: '2.0.0',
            activateAllFeatures: function() {
                SystemStatus.logActivity('ğŸ”“ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ ØªÙ…Ø§Ù… Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§');
                document.querySelectorAll('.service-card').forEach(card => {
                    card.classList.add('active');
                });
            }
        };
    </script>
</body>
  </html>
